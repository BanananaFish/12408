# 查找

[TOC]

## 顺序查找

1. 哨兵能将ASL从2n降至n（减少了数组越界检查）



## 二分查找

1. 在概率不均等的情况下，二分查找的效率不一定有顺序查找高



## B树

### 概念

1. $\log_m(n+1)\leq H \leq \log_{\lceil m \rceil}(\frac{n+1}2)+1$
2. 插入时分裂：从$\lceil \frac{m}2 \rceil$处分裂，左边保留在原结点，中间加入到父结点，右边分裂到新结点
3. 删除时合并：
   1. 在非叶子结点中，有前驱借用：直接用前驱代替，后续出现空结点再想办法合并
   2. 在叶子结点：
      1. 直接删除
      2. 兄弟够借：将父结点直接后继代替原结点，兄弟结点后继代替父结点直接后继
      3. 兄弟不够借：父结点直接后继代替原结点，和兄弟结点后继合并为新结点



### 题目

1. 具有n个关键字的b树，有n+1个叶结点（其实就是算失败结点）
2. 高度为2的5阶B树，至少有5个关键字
   1. 分裂视角：m=5，即单结点关键字最多为4，当有5个关键字时分裂为二层
   2. 最小关键字视角：单结点最少关键字为$\lceil \frac{m}2 \rceil-1=2$，故最少情况为1（根结点最少有两个子树）+2+2



## 哈希表

### 哈希函数

1. 直接法
2. 取余
3. 数字分析：关键字为数字，某几位数码分布较均匀，则采用那几位作为地址，坏处是变化后需要重新构造哈希函数
4. 平方取中：平方后中间几位做地址



### 冲突处理

#### 开放定址:$H_i=(H(key)+d_i)\%m$

1. 增量序列$d_i$取法：
   1. 线性探测法：往后一位看有无空位；会造成堆积，大大降低查找效率
   2. 平方探测法：$d_i = 0^2,1^2,-1^2,2^2,-2^2……$；不能探测到全部单元，只能探测一半
   3. 再散列法：$d_i = Hash_2(Key)$
   4. 伪随机序列

#### 拉链法

单元为指向一个链表，存储全部同义词



### 性能分析

1. 三个因素：散列函数、冲突处理、装填因子
2. 装填因子：$\alpha = \frac{表中记录m}{散列表长度}$；越大说明越「满」，发生冲突可能性就越大，故效率会降低



### 删除

1. 拉链法直接物理删除
2. 开放定址法做删除标记